{% comment %}
    Renders a product card

    Accepts:
    - product: {Object} Product Liquid object
    - show_vendor: {Boolean} Show the vendor name

    Usage:
    {% render 'card-product', product: product, show_vendor: true %}
{% endcomment %}

<div class="card-wrapper">
  <div class="card card--product">
    <div class="card__inner">
      <div class="card__media">
        {% if product.featured_image %}
          <a href="{{ product.url }}" class="media media--transparent">
            <img
              src="{{ product.featured_image.src }}"
              alt="{{ product.featured_image.alt | default: product.title }}"
              class="motion-reduce"
              loading="lazy"
              width="{{ product.featured_image.width | default: 300 }}"
              height="{{ product.featured_image.height | default: 300 }}"
            >
          </a>
        {% else %}
          <div class="card__media-placeholder">
            <svg class="placeholder-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 525.5 525.5">
              <path d="M324.5 212.7H203c-1.6 0-2.8 1.3-2.8 2.8V308c0 1.6 1.3 2.8 2.8 2.8h121.6c1.6 0 2.8-1.3 2.8-2.8v-92.5c0-1.6-1.3-2.8-2.9-2.8zm1.1 93.3c0 .5-.5 1.1-1.1 1.1H203c-.5 0-1.1-.5-1.1-1.1v-92.5c0-.5.5-1.1 1.1-1.1h121.6c.5 0 1.1.5 1.1 1.1V306z"/>
              <path d="M210.4 299.5H240v.1s.1 0 .2-.1h75.2v-76.2h-105v76.2zm1.8-7.2l20-20c1.6-1.6 3.8-2.5 6.1-2.5s4.5.9 6.1 2.5l1.5 1.5 16.8 16.8c-12.9 3.3-20.7 6.3-22.8 7.2h-27.7v-5.5zm101.5-10.1c-20.1 1.7-36.7 4.8-49.1 7.9l-16.9-16.9 26.3-26.3c1.6-1.6 3.8-2.5 6.1-2.5s4.5.9 6.1 2.5l27.5 27.5v7.8zm0-9.4L287.2 246c-2.4-2.4-5.5-3.7-8.9-3.7s-6.5 1.3-8.9 3.7l-26.3 26.3-1.5-1.5c-2.4-2.4-5.5-3.7-8.9-3.7s-6.5 1.3-8.9 3.7l-11.8 11.8v-57.9h103.3v68.1z"/>
              <path d="M232.8 254c4.6 0 8.3-3.7 8.3-8.3s-3.7-8.3-8.3-8.3-8.3 3.7-8.3 8.3 3.7 8.3 8.3 8.3zm0-14.9c3.6 0 6.6 2.9 6.6 6.6s-2.9 6.6-6.6 6.6-6.6-2.9-6.6-6.6 3-6.6 6.6-6.6z"/>
            </svg>
          </div>
        {% endif %}
      </div>

      <div class="card__content">
        <div class="card__information">
          {% if show_vendor and product.vendor %}
            <span class="visually-hidden">Vendor:</span>
            <div class="card__vendor caption-with-letter-spacing light">{{ product.vendor }}</div>
          {% endif %}

          <h3 class="card__heading h5">
            <a href="{{ product.url }}" class="full-unstyled-link">
              {{ product.title }}
            </a>
          </h3>

          <div class="card__price">
            {% render 'price', product: product %}
          </div>
        </div>

        <div class="card__badge">
          {% if product.available == false %}
            <span class="badge badge--bottom-left badge--sold-out">Sold out</span>
          {% elsif product.compare_at_price > product.price %}
            <span class="badge badge--bottom-left badge--sale">Sale</span>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="card__button">
      <button type="button" class="button button--full-width button--primary">
        Add to cart
      </button>
    </div>
  </div>
</div>
